(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/appointmentPack/searchGoods/main"],{"46f7":function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=i(n("b775"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return s(t)||c(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var o=0,n=new Array(t.length);o<t.length;o++)n[o]=t[o];return n}}var u=function(){n.e("components/getPhoneNumberGoods").then(function(){return resolve(n("0c12"))}.bind(null,n)).catch(n.oe)},d={components:{getPhoneNumberGoods:u},data:function(){return{goodsList:[],haveNoSearch:!0,pageNum:1,key:"",isLoading:!1,companyId:"",nodata:!1}},mounted:function(){this.init()},methods:{init:function(){this.pageNum=1,this.goodsList=[],this.key="",this.nodata=!1,this.haveNoSearch=!0,this.isLoading=!1,this.companyId=this.$root.$mp.query.companyId,wx.setNavigationBarTitle({title:"搜索预约"})},toProdDetail:function(t){wx.navigateTo({url:"/pages/appointmentPack/productDetail/main?goodId="+t})},search:function(){this.goodsList=[],this.nodata=!1,this.pageNum=1,this.getGoodsList()},getGoodsList:function(){var t=this;if(t.isLoading)wx.hideLoading();else{t.isLoading=!0;var o={productsTypeId:"",pageNum:this.pageNum,companyId:this.companyId,productsName:this.key};e.default.POST(o,"","/products/selectProductsPage/V2").then((function(o){wx.hideLoading(),t.haveNoSearch=!1,o?(o.pageInfo.list.forEach((function(t,o){if(t.productsPhoto?t.prodLogo=t.productsPhoto.split(",")[0]:t.prodLogo="",t.price){var n;try{n=JSON.parse(t.price)}catch(e){n=parseInt(t.price)||0}"[object number]"===Object.prototype.toString.call(n).toLowerCase()?t.price=n.toFixed(2):t.price=n.map((function(t){return parseInt(t)})).join("~")}else t.price=""})),t.goodsList=[].concat(a(t.goodsList),a(o.pageInfo.list)),t.pageNum++,setTimeout((function(){t.isLoading=!1}),500)):setTimeout((function(){t.nodata=!0,t.isLoading=!1}),500)})).catch((function(o){wx.hideLoading(),console.log(o),t.goodsList=[],t.haveNoSearch=!1,setTimeout((function(){t.isLoading=!1}),500)}))}}},onReachBottom:function(){if(!this.nodata){wx.showLoading({title:"加载中..."});var t=this;t.getGoodsList()}}};o.default=d},7417:function(t,o,n){},"7cab":function(t,o,n){"use strict";n.r(o);var e=n("813f"),i=n("fcf3");for(var a in i)"default"!==a&&function(t){n.d(o,t,(function(){return i[t]}))}(a);n("96fb");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],r);o["default"]=s.exports},"813f":function(t,o,n){"use strict";var e,i=function(){var t=this,o=t.$createElement;t._self._c},a=[];n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return e}))},"96fb":function(t,o,n){"use strict";var e=n("7417"),i=n.n(e);i.a},e554:function(t,o,n){"use strict";(function(t){n("6cdc"),n("921b");e(n("66fd"));var o=e(n("7cab"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},fcf3:function(t,o,n){"use strict";n.r(o);var e=n("46f7"),i=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,(function(){return e[t]}))}(a);o["default"]=i.a}},[["e554","common/runtime","common/vendor"]]]);