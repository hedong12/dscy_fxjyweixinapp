(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/order/main"],{1008:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.list,(function(e,a){var n=t.getDate(e.createTime),i=t.getDate(e.payTime),r=t.getPrice(e.signPrice);return{$orig:t.__get_orig(e),m0:n,m1:i,m2:r}})));t.$mp.data=Object.assign({},{$root:{l0:a}})},r=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}))},2210:function(t,e,a){"use strict";a.r(e);var n=a("a0ea"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"3a86":function(t,e,a){"use strict";var n=a("fd92"),i=a.n(n);i.a},"733a":function(t,e,a){"use strict";(function(t){a("6cdc"),a("921b");n(a("66fd"));var e=n(a("eb1c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},a0ea:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("9ab4"),i=n.__importDefault(a("66fd")),r=n.__importDefault(a("2fe1")),o=a("7e00"),s=a("01ea");a("7e6c");var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageNum=1,e.signType=void 0,e.signState=void 0,e.list=[],e.paymentStatus=s.PaymentStatus,e.getType=["未分组","报名","拼团","秒杀"],e.orderType=[{text:"全部类型",value:""},{text:"报名活动",value:1},{text:"拼团活动",value:2},{text:"秒杀活动",value:3}],e.orderTypeKey="",e.payState=[{text:"全部状态",value:""},{text:"待付款",value:0},{text:"已付款",value:1},{text:"已完成",value:2},{text:"已失效",value:3},{text:"已退款",value:4}],e.payStateKey="",e}return n.__extends(e,t),e.prototype.onLoad=function(t){this.loadData()},e.prototype.goTo=function(t){wx.navigateTo({url:"/pages/"+t})},e.prototype.setOrderType=function(t){var e=t.detail;this.signType=""!=e?e:void 0,this.initLoadData()},e.prototype.setOrderstate=function(t){var e=t.detail;this.signState=""!==e?e:void 0,this.initLoadData()},e.prototype.initLoadData=function(){this.pageNum=1,this.list=[],this.loadData()},e.prototype.loadData=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e;return n.__generator(this,(function(a){switch(a.label){case 0:wx.showLoading({title:"Loading...",mask:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),console.log(this.signState),[4,o.signUserById(this.pageNum,this.signType,this.signState)];case 2:return t=a.sent(),this.pageNum+=1,wx.hideLoading(),this.list=n.__spreadArrays(this.list,t),[3,4];case 3:return e=a.sent(),console.log(e),wx.showToast({title:e,icon:"none"}),[3,4];case 4:return[2]}}))}))},e.prototype.getDate=function(t){if(t){t=t.replace(".000+0000",""),t=t.replace(/-/g,"/"),t=t.replace(/T/g," ");var e=new Date(new Date(t).getTime()+288e5);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},e.prototype.getPrice=function(t){return(t/100+1e-5).toFixed(2)},e.prototype.getInfo=function(t,e){switch(t){case 1:return"已参加报名活动";case 3:return"秒杀成功"}},e.prototype.pay=function(t){var e=t.signOrderId;return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(a){switch(a.label){case 0:return wx.showLoading({title:"Loading...",mask:!0}),[4,o.payMoney(e)];case 1:return t=a.sent(),wx.hideLoading(),wx.requestPayment({timeStamp:t.timeStamp,nonceStr:t.nonce_str,package:"prepay_id="+t.prepay_id,signType:"MD5",paySign:t.paySign,success:function(){wx.showToast({title:"支付成功",icon:"success"}),wx.redirectTo({url:"/pages/activity/order/info?id="+e})},fail:function(t){"requestPayment:fail cancel"===t.errMsg?wx.showToast({title:"支付已取消",icon:"none"}):wx.showToast({title:"支付失败",icon:"none"})}}),[2]}}))}))},e=n.__decorate([r.default],e),e}(i.default);e.default=u},eb1c:function(t,e,a){"use strict";a.r(e);var n=a("1008"),i=a("2210");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("3a86");var o,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=u.exports},fd92:function(t,e,a){}},[["733a","common/runtime","common/vendor"]]]);