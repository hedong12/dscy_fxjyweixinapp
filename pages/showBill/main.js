(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/showBill/main"],{"0359":function(t,e,n){"use strict";var a=n("be17"),i=n.n(a);i.a},"095b":function(t,e,n){"use strict";n.r(e);var a=n("d6df"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"17b8":function(t,e,n){"use strict";(function(t){n("6cdc"),n("921b");a(n("66fd"));var e=a(n("aead"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},aead:function(t,e,n){"use strict";n.r(e);var a=n("e9b6"),i=n("095b");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("0359");var o,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=u.exports},be17:function(t,e,n){},d6df:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("a34a")),i=n("ed08");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return c(t)||u(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)if(n.push(o.value),e&&n.length===e)break}catch(u){i=!0,r=u}finally{try{a||null==s["return"]||s["return"]()}finally{if(i)throw r}}return n}}function c(t){if(Array.isArray(t))return t}function l(t,e,n,a,i,r,o){try{var s=t[r](o),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function o(t){l(r,a,i,o,s,"next",t)}function s(t){l(r,a,i,o,s,"throw",t)}o(void 0)}))}}var d={name:"",data:function(){return{imgLists:[],cardList:["https://yyker-one-stand.oss-cn-beijing.aliyuncs.com/one-stand/Evaluation/images/20200805173640.jpg","https://yyker-one-stand.oss-cn-beijing.aliyuncs.com/one-stand/photo/20200904/643beda7117b808bc54751fa1fcca971.jpg"],CURRENT_COMPANY:JSON.parse(wx.getStorageSync("CURRENT_COMPANY")),canvas:null}},onShow:function(){var t=f(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return wx.showLoading({title:"Loading..."}),t.next=3,this.createPoster();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{showBigImage:function(){wx.previewImage({urls:[this.imgLists[0]]})},createPoster:function(){var t=f(a.default.mark((function t(){var e,n,r,s,u,c;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=wx.createCanvasContext("canvas"),e.setFillStyle("#fff"),e.fillRect(0,0,621,848),n=[],n.push((0,i.getTemImgUrl)(this.CURRENT_COMPANY.companyLogo)),n.push((0,i.getTemImgUrl)(this.CURRENT_COMPANY.wxTwoCode)),t.next=8,(0,i.waitAllPromise)(n);case 8:r=t.sent,s=o(r,2),u=s[0],c=s[1],e.drawImage(u,24,685,100,100),e.drawImage(c,458,665,136,136),e.setFontSize(24),e.setFillStyle("#000"),e.setTextBaseline("top"),e.fillText("保存图片到相册",140,737),e.fillText("微信识别小程序",140,765),e.fillText(this.CURRENT_COMPANY.name+" 推荐您看",140,684),this.canvas=e,this.showImage(0);case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showImage:function(){var t=f(a.default.mark((function t(e){var n,r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return wx.showLoading({title:"Loading..."}),t.next=3,(0,i.getTemImgUrl)(this.cardList[e]);case 3:n=t.sent,this.canvas.drawImage(n,0,0,621,623),r=this,this.canvas.draw(!0,(function(){wx.canvasToTempFilePath({x:0,y:0,width:621,height:848,destWidth:621,destHeight:848,canvasId:"canvas",success:function(t){r.imgLists.unshift(t.tempFilePath),wx.hideLoading()}})}));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),shareToTimeLine:function(){wx.getImageInfo({src:this.imgLists[0],success:function(t){wx.saveImageToPhotosAlbum({filePath:t.path,success:function(t){wx.showToast({title:"保存成功!",icon:"none"})},fail:function(t){wx.showToast({title:"保存失败!",icon:"none"})}})}})}}};e.default=d},e9b6:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}))}},[["17b8","common/runtime","common/vendor"]]]);